version: 2
messages:
  $i18n: locales.yml
template:
  name:
    $ref: "#/messages/template.name"
  description:
    $ref: "#/messages/template.description"
  required:
    - github_tron_tektondefinitions
    - github_tektoncatalog
    - git_operator
    - private_worker07
    - slack
    - pipeline09
toolchain:
  template:
    getting_started:
      $ref: "#/messages/template.gettingStarted"
  name: "ansible-operator-ci_cd-{{timestamp}}"
services:
  github_tektoncatalog:
    parameters:
      label: tekton-catalog
      type: link
      git_id: github
      repo_url: https://github.com/open-toolchain/tekton-catalog.git
      has_issues: false
      enable_traceability: false
      owner_id: open-toolchain
      repo_name: tekton-catalog
    service_id: githubconsolidated
  github_tron_tektondefinitions:
    parameters:
      label: tron-operator-tekton-definitions
      type: link
      legal: true
      owner_id: jaunin-b
      repo_name: tron-operator-tekton-definitions
      repo_url: https://github.ibm.com/jaunin-b/tron-operator-tekton-definitions.git
      private_repo: false
      has_issues: false
      enable_traceability: false
      git_id: integrated
    service_id: github_integrated
  git_operator:
    parameters:
      label: memcached-operator-sample
      type: link
      git_id: github
      repo_url: https://github.com/jauninb/memcached-operator-sample.git
      private_repo: false
      has_issues: false
      enable_traceability: false
      owner_id: jauninb
      repo_name: memcached-operator-sample
    service_id: githubconsolidated
  git_operator_configs:
    parameters:
      label: demo-operator-configs
      type: link
      legal: true
      owner_id: watson-deploy-configs
      repo_name: demo-operator-configs
      repo_url: https://github.ibm.com/watson-deploy-configs/demo-operator-configs.git
      private_repo: false
      has_issues: false
      enable_traceability: false
      git_id: integrated
    service_id: github_integrated
  slack:
    service_id: slack
  devops_insights:
    service_id: draservicebroker
  private_worker07:
    service_id: private_worker
  pipeline09:
    parameters:
      type: tekton
      name: ansible-operator-cicd
      ui_pipeline: false
      configuration:
        env:
          github_tron_tektondefinitions: github_tron_tektondefinitions
          github_tektoncatalog: github_tektoncatalog
          git_operator: git_operator
          git_operator_configs: git_operator_configs
          operator_repository_url: '{{services.git_operator.parameters.repo_url}}'
          operator_configs_repository_url: '{{services.git_operator_configs.parameters.repo_url}}'
          private_worker07: "{{services.private_worker07.parameters.name}}"
        content:
          $text: pipeline_cicd.yml
      services:
        - github_tron_tektondefinitions
        - github_tektoncatalog
        - git_operator
        - git_operator_configs
        - private_worker07
    service_id: pipeline
